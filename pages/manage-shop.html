<!DOCTYPE html>
<html lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <head>
        <title>jibbcrew.com | atlanta bmx </title>
        
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" crossorigin="anonymous">
        <!-- Latest compiled and minified JavaScript -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" crossorigin="anonymous"></script>
<!--
        <script src="//tinymce.cachefly.net/4.1/tinymce.min.js"></script>
        <script>tinymce.init({selector:'textarea'});</script>
-->
        <link rel="stylesheet" href="/css/main.css" >
        
        <script src="/scripts/dashboard.js"></script>

        <script type="text/javascript">
            $(document).ready(function() {
                
                getShopItems();
            });
            
            $(document).on("click", ".edit_modal", function () {
                var item_id = $(this).data('id');
                
                //console.log(item_id);
                
                getShopItemById(item_id);
                
                $('.modal-footer').html("");
                
                //create update button and add to modal
                var update_button = $('<button type="button" class="btn btn-default" data-dismiss="modal">Update</button>').click(function () {
                    
                    //update item
                    updateItem(item_id);
                });
                
                $('.modal-footer').append(update_button);
            }); 
            
            $(document).on("click", ".add_modal", function () {
                
                $('.modal-footer').html("");
                
                //create update button and add to modal
                var add_button = $('<button type="button" class="btn btn-default" data-dismiss="modal">Add</button>').click(function () {
                    
                    //add item
                    addItem();
                });
                
                $('.modal-footer').append(add_button);
            }); 
        </script>
        
    </head>
    <body style="margin: 60px;">
            <!-- Fixed navbar -->
        <nav class="navbar navbar-fixed-top jibb-navbar">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
<!--
                    <ul class="list-inline" style="float:left; margin-left:-26px;">
                        <li><a href="/"><img src="/img/jibbcrew-block-full.png" height="60" width="250"></a></li>
                    </ul>
-->
                    <ul class="list-inline" style="float:left; margin-left:-22px;">
                        <li>
                            <a style="text-decoration: none;" href="/">
                                <div style="border: 4px solid black; margin-top: 8px;">
                                    <div style="padding-left: 4px; padding-right: 4px; margin-bottom: -8px; margin-top: -8px; font-size: 40px;">
                                        <strong><i>JIBB</i></strong>
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a style="text-decoration: none;" href="/">
                                <div style="margin-left: -10px;">
                                    <div style="font-size: 38px;">
                                        <i>CREW</i>
                                    </div>
                                </div>
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="dashboard.html">dashboard</a></li>
                        <li><a href="edit.html">edit posts</a></li>
                        <li><a href="manage-users.html">manage users</a></li>
                        <li><a href="manage-shop.html">manage shop</a></li>
						<li><a href="manage-orders.html">manage orders</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="container" style="max-width:960px;">
            <div class="row">
                <div class="sidebar-module">
                    <h3>manage shop</h3>
                    <h5 style="float:right;">User: <span id="user-name"></span></h5>
                </div>
                <div class="jibb-container">
                    <div class="jibb-inner-container">
                        <div id="items">
                            <!-- content here -->
                        </div>
                        <hr/>
                        <button type="button" class="btn outline add_modal" data-toggle="modal" data-target="#addModal" style="float: right;">Add Item</button>
                        <br/>
                    </div>
                </div>
                    
                <div class="jibb-inner-container">
                    <div id="result"></div>
                    <div id="update_result"></div>
                </div>

            </div>
        </div>
        
        <!-- Modal -->
        <div id="editModal" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                      <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">edit item</h4>
                      </div>
                      <div class="modal-body">
                          <div id="edit_item" class="form-group">
                              <input type='text' class='form-control' id='item_name' value=''>
                              <br/>
                              <textarea class='form-control' rows='4' id='item_description' value=''></textarea>
                              <br/>
                              <input type='text' class='form-control' id='item_price' value=''>
                              <br/>
                              <select class='form-control' id='item_type'>
                                  <option value="sticker">sticker</option>
                                  <option value="shirt">shirt</option>
                              </select>
                              <br/>
                              <input type='text' class='form-control' id='item_count' value=''>
                              <br/>
                              <input type='text' class='form-control' id='item_remaining' value=''>
                              <br/>
                              <select class='form-control' id='item_available'>
                                  <option value="0">out of stock</option>
                                  <option value="1">in stock</option>
                              </select>
                          </div>
                      </div>
                      <div class="modal-footer">
                <!--            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>-->
                      </div>
                </div>
            </div>
        </div>
        <div id="addModal" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                      <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">add item</h4>
                      </div>
                      <div class="modal-body">
                          <div id="add_item" class="form-group">
                              <input type='text' class='form-control' id='add_item_name' value='' placeholder='name'>
                              <br/>
                              <textarea class='form-control' rows='4' id='add_item_description' value='' placeholder='description'></textarea>
                              <br/>
                              <input type='text' class='form-control' id='add_item_image_path' value='' placeholder='image path'>
                              <br/>
                              <input type='text' class='form-control' id='add_item_price' value='' placeholder='price'>
                              <br/>
                              <select class='form-control' id='add_item_type'>
                                  <option value="sticker">sticker</option>
                                  <option value="shirt">shirt</option>
                              </select>
                              <br/>
							  <input type='text' class='form-control' id='add_item_options' value='' placeholder='options'>
							  <br/>
                              <input type='text' class='form-control' id='add_item_count' value='' placeholder='count'>
                              <br/>
                              <input type='text' class='form-control' id='add_item_remaining' value='' placeholder='remaining'>
                              <br/>
                              <select class='form-control' id='add_item_available'>
                                  <option value="0">out of stock</option>
                                  <option value="1">in stock</option>
                              </select>
                          </div>
                      </div>
                      <div class="modal-footer">
                <!--            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>-->
                      </div>
                </div>
            </div>
        </div>
    </body>
</html>